---
app-id: com.vmware.HorizonClient
runtime: org.gnome.Platform
runtime-version: '41'
sdk: org.gnome.Sdk
desktop-file-name-suffix: ' (Flatpak)'
command: vmware-view
build-options:
  env:
    TERM: dumb
    VMWARE_EULAS_AGREED: yes
finish-args:
  - --share=network
  - --socket=x11
  - --socket=pulseaudio
  - --device=dri
  - --env=GTK_THEME=Adwaita
  - --device=all
  - --persist=.vmware

modules:           
  - name: libudev1
    buildsystem: autotools
    sources: 
      - type: archive
        url: https://github.com/gentoo/eudev/archive/v3.2.11.tar.gz
        sha256: dcfc482099f3fdfcfdb9aeabbc4d609877cf4d2d0407f50ab0c59d43fff44f92

  - name: vmware-horizon-client
    buildsystem: simple
    sources:
      - type: file
        url: https://download3.vmware.com/software/view/viewclients/CART22FH2/VMware-Horizon-Client-Linux-2111-8.4.0-18957622.tar.gz
        sha256: 2f79d2d8d34e6f85a5d21a3350618c4763d60455e7d68647ea40715eaff486f7
        dest-filename: VMware-Horizon-Linux.tar.gz
      - type: file
        path: build.sh
    build-commands:
      - chmod +x ./build.sh
      - ./build.sh
